"use strict";(self["webpackChunkneurostate_cabinet"]=self["webpackChunkneurostate_cabinet"]||[]).push([[37],{6306:function(t,e,s){s.r(e),s.d(e,{default:function(){return b}});s(7658);var o=s(3396),r=s(7139);const a={class:"login"},i={class:"form"},l={class:"form__header"},n={class:"no-account"};function u(t,e,s,u,d,c){const m=(0,o.up)("CustomInput");return(0,o.wg)(),(0,o.iD)("div",a,[(0,o._)("form",i,[(0,o._)("div",l,(0,r.zw)(t.$localizeFilter("authorization")),1),(0,o.Wm)(m,{modelValue:t.email,errors:t.v$.email.$errors,title:t.$localizeFilter("your_email"),"onUpdate:modelValue":e[0]||(e[0]=e=>{t.email=e,t.v$.email.$touch()})},null,8,["modelValue","errors","title"]),(0,o.Wm)(m,{modelValue:t.password,errors:t.v$.password.$errors,title:t.$localizeFilter("your_password"),isPassword:!0,"onUpdate:modelValue":e[1]||(e[1]=e=>{t.password=e,t.v$.password.$touch()})},null,8,["modelValue","errors","title"]),(0,o._)("button",{class:"forgot-password",type:"button",onClick:e[2]||(e[2]=e=>t.$router.push("/resetPassword"))},(0,r.zw)(t.$localizeFilter("forgot_password")),1),(0,o._)("button",{type:"button",id:"submitButton",class:"button",onClick:e[3]||(e[3]=(...e)=>t.submitHandler&&t.submitHandler(...e))},(0,r.zw)(t.$localizeFilter("login")),1),(0,o._)("p",n,(0,r.zw)(t.$localizeFilter("no_account")),1),(0,o._)("button",{class:"register",type:"button",onClick:e[4]||(e[4]=e=>t.$router.push("/register"))},(0,r.zw)(t.$localizeFilter("register_2")),1)])])}var d=s(3053),c=s(9117),m=s(7389),p=s(9849),_=s(2848),h=(0,m.aZ)({components:{CustomInput:_.Z},data(){return{email:"",password:""}},setup(){return{v$:(0,d.ZP)()}},validations(){return{email:{required:c.BM.withMessage((0,p.Z)("field_must_not_be_empty"),c.C1),email:c.BM.withMessage((0,p.Z)("field_must_be_valid_email_address"),c.Do)},password:{required:c.BM.withMessage((0,p.Z)("field_must_not_be_empty"),c.C1)}}},methods:{async submitHandler(){if(this.v$.$touch(),this.v$.$error)return;const t=document.getElementById("submitButton");t.classList.add("button--loading");const e={email:this.email,password:this.password};try{await this.$store.dispatch("login",e);const{scope:s,email:o}=await this.$store.dispatch("getProfile");setTimeout((()=>{t.classList.remove("button--loading"),"not_activated_client"==s?this.$router.push("/confirmEmail?email="+o):this.$router.push("/cabinet")}),1e3)}catch(s){setTimeout((()=>{this.$error(s),t.classList.remove("button--loading"),this.buttonKey+=1}),1e3)}}}}),$=s(89);const w=(0,$.Z)(h,[["render",u],["__scopeId","data-v-dfae8576"]]);var b=w}}]);