"use strict";(self["webpackChunkneurostate_cabinet"]=self["webpackChunkneurostate_cabinet"]||[]).push([[992],{6830:function(s,t,e){e.r(t),e.d(t,{default:function(){return b}});e(7658);var o=e(3396),r=e(7139);const a={class:"new-password"},n={class:"container"},i={class:"form"},u={class:"form__header"};function d(s,t,e,d,l,c){const m=(0,o.up)("CustomInput");return(0,o.wg)(),(0,o.iD)("div",a,[(0,o._)("div",n,[(0,o._)("form",i,[(0,o._)("button",{type:"button",class:"close-btn",onClick:t[0]||(t[0]=t=>s.$router.push("/login"))}),(0,o._)("div",u,(0,r.zw)(s.$localizeFilter("new_password")),1),(0,o.Wm)(m,{modelValue:s.password,errors:s.v$.password.$errors,title:s.$localizeFilter("your_new_password"),isPassword:!0,"onUpdate:modelValue":t[1]||(t[1]=t=>{s.password=t,s.v$.password.$touch()})},null,8,["modelValue","errors","title"]),(0,o.Wm)(m,{modelValue:s.confirmPassword,errors:s.v$.confirmPassword.$errors,title:s.$localizeFilter("repeat_new_password"),isPassword:!0,"onUpdate:modelValue":t[2]||(t[2]=t=>{s.confirmPassword=t,s.v$.confirmPassword.$touch()})},null,8,["modelValue","errors","title"]),(0,o._)("button",{type:"button",id:"submitButton",class:"button",onClick:t[3]||(t[3]=(...t)=>s.submitHandler&&s.submitHandler(...t))},(0,r.zw)(s.$localizeFilter("login")),1)])])])}var l=e(3053),c=e(9117),m=e(7389),w=e(9849),p=e(2848),h=(0,m.aZ)({components:{CustomInput:p.Z},props:{token:{type:String,required:!0}},setup(){return{v$:(0,l.ZP)()}},data(){return{password:"",confirmPassword:""}},validations(){return{password:{required:c.BM.withMessage((0,w.Z)("field_must_not_be_empty"),c.C1)},confirmPassword:{sameAsPassword:c.BM.withMessage((0,w.Z)("fields_not_match"),(0,c.sH)(this.password))}}},methods:{async submitHandler(){if(this.v$.$touch(),this.v$.$error)return void setTimeout((()=>{this.buttonKey+=1}),1e3);const s=document.getElementById("submitButton");s.classList.add("button--loading");try{await this.$store.dispatch("restorePassword",{newPassword:this.password,code:this.token}),setTimeout((()=>{s.classList.remove("button--loading"),this.$message((0,w.Z)("restore_password_successfull")),this.$router.push("/login")}),1e3)}catch(t){setTimeout((()=>{this.$error(t),s.classList.remove("button--loading"),this.buttonKey+=1}),1e3)}}},computed:{}}),_=e(89);const $=(0,_.Z)(h,[["render",d],["__scopeId","data-v-272fc9c1"]]);var b=$}}]);