"use strict";(self["webpackChunkneurostate_cabinet"]=self["webpackChunkneurostate_cabinet"]||[]).push([[372],{5585:function(t,e,l){l.r(e),l.d(e,{default:function(){return me}});var o=l(3396),s=l(7139),n=l(7650);const a=t=>((0,o.dD)("data-v-12ce258d"),t=t(),(0,o.Cn)(),t),i={class:"nft-bonuses"},c={class:"title"},r={class:"id-wrap"},d={class:"id-title"},u={class:"id-data"},p={class:"buttons-wrap"},h=a((()=>(0,o._)("img",{src:n,alt:""},null,-1))),g=[h];function w(t,e,l,n,a,h){const w=(0,o.up)("LotterySpinning"),m=(0,o.up)("NFTBonusesDesktop"),y=(0,o.up)("NFTBonusesTablet"),f=(0,o.up)("CongratulationModal"),_=(0,o.up)("LotteryInfoModal");return(0,o.wg)(),(0,o.iD)("div",i,[(0,o._)("div",c,(0,s.zw)(t.$localizeFilter("my_nft_bonus_btn")),1),(0,o._)("div",r,[(0,o._)("span",d,(0,s.zw)(t.$localizeFilter("your_id")),1),(0,o._)("span",u,(0,s.zw)(" "+t.profile?.id||0),1)]),t.notCollected.length>0?((0,o.wg)(),(0,o.j4)(w,{key:0,ref:"lotterySpinningRef",id:"lotterySpinningId",onShowLotteryInfoModal:e[0]||(e[0]=e=>t.showLotteryInfoModal=!0),onShowCongratulationModal:t.showCongratulationModal2,notCollected:t.notCollected,trialsCountOverride:t.trialsCount,onUpdateNotCollected:t.updateNotCollected},null,8,["onShowCongratulationModal","notCollected","trialsCountOverride","onUpdateNotCollected"])):(0,o.kq)("",!0),(0,o.Wm)(m,{collections:t.collections,class:"desktop"},null,8,["collections"]),(0,o.Wm)(y,{collections:t.collections,class:"tablet"},null,8,["collections"]),(0,o._)("div",p,[t.collections.length>0?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"button",onClick:e[1]||(e[1]=e=>t.scrollToTop())},(0,s.zw)(t.$localizeFilter("go_to_nft_btn")),1)):(0,o.kq)("",!0),(0,o._)("button",{class:"leave-session",onClick:e[2]||(e[2]=e=>t.logout())},(0,s.zw)(t.$localizeFilter("leave_session")),1)]),(0,o._)("div",{class:"scroll-up-btn",onClick:e[3]||(e[3]=e=>t.scrollUp())},g),t.showCongratulationModal?((0,o.wg)(),(0,o.j4)(f,{key:1,collections:t.collections,winSlot:t.winSlot,onCloseModal:t.closeModals},null,8,["collections","winSlot","onCloseModal"])):(0,o.kq)("",!0),t.showLotteryInfoModal?((0,o.wg)(),(0,o.j4)(_,{key:2,onCloseModal:t.closeModals},null,8,["onCloseModal"])):(0,o.kq)("",!0)])}l(7658);var m=l(7389),y=l(4451);const f=t=>((0,o.dD)("data-v-6bd7afe6"),t=t(),(0,o.Cn)(),t),_={class:"wrapper"},v={class:"title"},C={key:0,class:"roulette-wrapper"},b={ref:"wheel",class:"wheel"},k=["src"],z=["src"],S={class:"attempts"},$=f((()=>(0,o._)("img",{src:y,alt:""},null,-1))),D=[$],x=f((()=>(0,o._)("input",{style:{visibility:"hidden"},placeholder:"outcome"},null,-1)));function F(t,e,l,n,a,i){return(0,o.wg)(),(0,o.iD)("div",_,[(0,o._)("h3",v,(0,s.zw)(t.$localizeFilter("try_your_luck")),1),t.notCollected.length>0?((0,o.wg)(),(0,o.iD)("div",C,[(0,o._)("div",b,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.totalRows,((e,l)=>((0,o.wg)(),(0,o.iD)("div",{class:"row",key:l},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.notCollected,((t,e)=>((0,o.wg)(),(0,o.iD)("div",{class:"card",key:e},[(0,o._)("img",{class:"img",src:t.previewLink,alt:""},null,8,k)])))),128)),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.notCollected,((t,e)=>((0,o.wg)(),(0,o.iD)("div",{class:"card",key:e},[(0,o._)("img",{class:"img",src:t.previewLink,alt:""},null,8,z)])))),128))])))),128))],512)])):(0,o.kq)("",!0),(0,o._)("p",S,[(0,o._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("showLotteryInfoModal"))},D),(0,o.Uk)(" "+(0,s.zw)(t.$localizeFilter("attempts")+": "+t.trialsCount),1)]),(0,o._)("div",null,[x,((0,o.wg)(),(0,o.iD)("button",{class:(0,s.C_)(0===t.trialsCount?"button button-disabled":"button"),onClickOnce:e[1]||(e[1]=e=>t.startSpin()),key:t.buttonKey},(0,s.zw)(t.$localizeFilter("go_to_nft_btn")),35))])])}async function I(t=0){return new Promise(((e,l)=>{setTimeout((()=>{e(null)}),t)}))}var M=(0,m.aZ)({name:"LotterySpinning",props:{notCollected:{type:Array,default:()=>[]},trialsCountOverride:{type:Number,default:0}},data(){return{trialsCount:0,totalRows:15,items:[],buttonKey:0,cards:0,interval:null,latestPosition:null}},watch:{trialsCountOverride:function(t){this.trialsCount=t}},computed:{},methods:{transformCards(){let t=document.querySelector(".roulette-wrapper").offsetWidth,e=document.querySelector(".roulette-wrapper").getBoundingClientRect(),l=t/2+e.x,o=document.querySelectorAll(".card");o.forEach((t=>{let e=t.getBoundingClientRect().x+t.offsetWidth/2,o=Math.abs(e-l);o<110&&(t.style.transform=`scale(${1+(110-o)/400})`,t.style.marginLeft=23+(110-o)/4+"px",t.style.marginRight=40+(110-o)/4+"px")}))},async startSpin(){if(this.trialsCount>0){const e=await this.$store.dispatch("spinNFTWheel")||"";var t=null;let l=this.notCollected.find((t=>t.nftId===e.nftId));console.log("check",l,e,this.notCollected),void 0===l&&this.$emit("updateNotCollected",e,this.latestPosition),await I(500),this.notCollected.forEach(((l,o)=>{l.nftId===e.nftId&&(t=o+1)})),this.spinWheel(t,e),this.interval=setInterval((()=>{let t=document.querySelector(".roulette-wrapper").offsetWidth,e=document.querySelector(".roulette-wrapper").getBoundingClientRect(),l=t/2+e.x,o=document.querySelectorAll(".card");o.forEach((t=>{let e=t.getBoundingClientRect().x+t.offsetWidth/2,o=Math.abs(e-l);o<110?(t.style.transform=`scale(${1+(110-o)/400})`,t.style.marginLeft=20+(110-o)/4+"px",t.style.marginRight=20+(110-o)/4+"px"):(t.style.transform="scale(1)",t.style.marginLeft="20px",t.style.marginRight="20px")}))}),16),this.trialsCount--}},hideShadow(){let t=document.querySelectorAll(".card");t.forEach((t=>{t.firstChild.style.boxShadow="none"}))},spinWheel(t,e){var l=document.querySelector(".roulette-wrapper .wheel");let o=[];for(let h=1;h<=this.notCollected.length;h++)o.push(h);let s=o.indexOf(t);this.latestPosition=s;const n=186,a=20,i=20,c=20;var r=7,d=n+2*a,u=r*this.notCollected.length*d+s*d+i+c;let p;l.style.transitionTimingFunction="cubic-bezier(0,0.12,0.14,1)",l.style.transitionDuration="6s",l.style.transform="translate3d(-"+(u-24)+"px, 0px, 0px)",this.$refs.wheel.addEventListener("transitionend",p=async()=>{this.$refs.wheel.removeEventListener("transitionend",p),l.style.transition="all 0.5s ease-in-out",l.style.transform="translate3d(-"+(u-c-33)+"px, 0px, 0px)",await I(300),clearInterval(this.interval),this.interval=null,l.style.transitionDuration="",l.style.transition="";var t=-s*d-c;l.style.transform="translate3d("+(t+24)+"px, 0px, 0px)",this.buttonKey++;let o=document.querySelector(".roulette-wrapper").offsetWidth,n=document.querySelector(".roulette-wrapper").getBoundingClientRect(),a=o/2+n.x,i=document.querySelectorAll(".card");i.forEach((t=>{let e=t.getBoundingClientRect().x+t.offsetWidth/2,l=Math.abs(e-a);l<110?(t.style.transform=`scale(${1+(110-l)/400})`,t.style.marginLeft=23+(110-l)/4+"px",t.style.marginRight=23+(110-l)/4+"px",t.firstChild.style.boxShadow="0px 0px 20px #78ECE3"):(t.style.transform="scale(1)",t.style.marginLeft="20px",t.style.marginRight="20px")})),await I(1e3),this.$emit("showCongratulationModal",e)})}},mounted(){this.trialsCount=this.trialsCountOverride,this.notCollected.length>0&&this.transformCards()}}),L=l(89);const B=(0,L.Z)(M,[["render",F],["__scopeId","data-v-6bd7afe6"]]);var q=B,T=l(8900),A=l.p+"img/download_true.1e7c8ec3.svg",E=l.p+"img/download_false.1406b803.svg";const N=t=>((0,o.dD)("data-v-246dc653"),t=t(),(0,o.Cn)(),t),R={class:"list-wrapper"},j={class:"collection-header"},Z={class:"collection-num"},O={class:"count"},W=["onClick"],K=N((()=>(0,o._)("img",{src:T,alt:"",class:"arrow-right"},null,-1))),P=[K],Y={class:"table"},H={class:"row table-header"},U=N((()=>(0,o._)("div",{class:"cell header"},"Icon",-1))),J={class:"cell header"},V={class:"cell header"},G={class:"cell header"},Q={class:"cell header"},X={class:"cell content"},tt=["src"],et={class:"cell content connect"},lt=["href"],ot={key:0,src:A,alt:"",class:""},st={key:1,src:E,alt:"",class:""};function nt(t,e,l,n,a,i){return(0,o.wg)(),(0,o.iD)("div",R,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.collections,((e,l)=>((0,o.wg)(),(0,o.iD)("div",{class:"collection",key:l},[(0,o._)("div",j,[(0,o._)("span",Z,(0,s.zw)(t.$localizeFilter("collection")+' "'+e.name+'"'),1),(0,o._)("span",O,(0,s.zw)(t.$localizeFilter("collected")+": "+e.collected+"/"+e.total),1),(0,o._)("button",{class:"open-list",onClick:e=>t.openTable(l)},P,8,W)]),(0,o._)("div",Y,[(0,o._)("div",H,[U,(0,o._)("div",J,(0,s.zw)(t.$localizeFilter("standard")),1),(0,o._)("div",V,(0,s.zw)(t.$localizeFilter("token_type")),1),(0,o._)("div",G,(0,s.zw)(t.$localizeFilter("number_in_collection")),1),(0,o._)("div",Q,(0,s.zw)(t.$localizeFilter("download")),1)]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.items,((e,l)=>((0,o.wg)(),(0,o.iD)("div",{class:"row table-content",key:l},[(0,o._)("div",X,[(0,o._)("img",{src:e.previewLink,alt:"",class:"nft-image"},null,8,tt)]),(0,o._)("div",{class:"cell content",style:(0,s.j5)(e.isCollected?"color: #7BF2E9;":"color: #A6B8B6;")},(0,s.zw)(e.standard),5),(0,o._)("div",{class:"cell content",style:(0,s.j5)(e.isCollected?"color: #7BF2E9;":"color: #A6B8B6;")},(0,s.zw)("Image"===e.tokenType?t.$localizeFilter("image"):e.tokenType),5),(0,o._)("div",{class:"cell content",style:(0,s.j5)(e.isCollected?"color: #7BF2E9;":"color: #A6B8B6;")},(0,s.zw)(e.numberInCollection),5),(0,o._)("div",et,[(0,o._)("button",{class:"social",style:(0,s.j5)(e.isCollected?"":"pointer-events:none")},[(0,o._)("a",{href:e.link,target:"_blank",class:"social-link"},[e.isCollected?((0,o.wg)(),(0,o.iD)("img",ot)):((0,o.wg)(),(0,o.iD)("img",st))],8,lt)],4)])])))),128))])])))),128))])}var at=(0,m.aZ)({name:"ReferralProgramDesktop",props:{collections:{type:Array,default:()=>[]}},computed:{profile(){return this.$store.getters.profile}},methods:{openTable(t){const e=document.querySelectorAll(".table")[t];e.classList.toggle("open");const l=document.querySelectorAll(".open-list")[t];l.classList.toggle("arrow-up")}}});const it=(0,L.Z)(at,[["render",nt],["__scopeId","data-v-246dc653"]]);var ct=it;const rt=t=>((0,o.dD)("data-v-d91b753a"),t=t(),(0,o.Cn)(),t),dt={class:"list-wrapper"},ut={class:"collection-header"},pt={class:"header__wrap"},ht={class:"collection-num"},gt={class:"count"},wt=["onClick"],mt=rt((()=>(0,o._)("img",{src:T,alt:"",class:"arrow-right"},null,-1))),yt=[mt],ft={class:"table-tablet"},_t={class:"collection-row"},vt=["href"],Ct={key:0,src:A,alt:"",class:"dwnld"},bt={key:1,src:E,alt:"",class:"dwnld"},kt={class:"content-row"},zt={class:"cell content"},St=["src"],$t={class:"mobile-wrapper"},Dt={class:"cell content"},xt={class:"content__title"},Ft={class:"cell content"},It={class:"content__title"};function Mt(t,e,l,n,a,i){return(0,o.wg)(),(0,o.iD)("div",dt,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.collections,((e,l)=>((0,o.wg)(),(0,o.iD)("div",{class:"collection",key:l},[(0,o._)("div",ut,[(0,o._)("div",pt,[(0,o._)("span",ht,(0,s.zw)(t.$localizeFilter("collection")+' "'+e.name+'"'),1),(0,o._)("span",gt,(0,s.zw)(t.$localizeFilter("collected")+": "+e.collected+"/"+e.total),1)]),(0,o._)("button",{class:"open-list-tablet",onClick:e=>t.openTable(l)},yt,8,wt)]),(0,o._)("div",ft,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.items,((l,n)=>((0,o.wg)(),(0,o.iD)("div",{class:"table-content",key:n},[(0,o._)("div",_t,[(0,o._)("span",{class:"collection-num",style:(0,s.j5)(l.isCollected?"color: #7BF2E9;":"color: #A6B8B6;")},(0,s.zw)(l.numberInCollection+"/"+e.total),5),(0,o._)("button",{class:"social",style:(0,s.j5)(l.isCollected?"":"pointer-events:none")},[(0,o._)("a",{href:l.link,target:"_blank",class:"social-link"},[l.isCollected?((0,o.wg)(),(0,o.iD)("img",Ct)):((0,o.wg)(),(0,o.iD)("img",bt))],8,vt)],4)]),(0,o._)("div",kt,[(0,o._)("div",zt,[(0,o._)("img",{src:l.previewLink,alt:"",class:"nft-image"},null,8,St)]),(0,o._)("div",$t,[(0,o._)("div",Dt,[(0,o._)("span",xt,(0,s.zw)(t.$localizeFilter("standard")),1),(0,o._)("span",{class:"content__data",style:(0,s.j5)(l.isCollected?"color: #7BF2E9;":"color: #A6B8B6;")},(0,s.zw)(l.standard),5)]),(0,o._)("div",Ft,[(0,o._)("span",It,(0,s.zw)(t.$localizeFilter("token_type")),1),(0,o._)("span",{class:"content__data",style:(0,s.j5)(l.isCollected?"color: #7BF2E9;":"color: #A6B8B6;")},(0,s.zw)("Image"===l.tokenType?t.$localizeFilter("image"):l.tokenType),5)])])])])))),128))])])))),128))])}var Lt=(0,m.aZ)({name:"ReferralProgramDesktop",props:{collections:{type:Array,default:()=>[]}},computed:{profile(){return this.$store.getters.profile}},methods:{openTable(t){const e=document.querySelectorAll(".table-tablet")[t];e.classList.toggle("open");const l=document.querySelectorAll(".open-list-tablet")[t];l.classList.toggle("arrow-up")}}});const Bt=(0,L.Z)(Lt,[["render",Mt],["__scopeId","data-v-d91b753a"]]);var qt=Bt,Tt=l(3356);const At=t=>((0,o.dD)("data-v-18a3f93a"),t=t(),(0,o.Cn)(),t),Et={class:"wrapper"},Nt=At((()=>(0,o._)("div",{class:"blur"},null,-1))),Rt={class:"modal-container"},jt={class:"modal-content"},Zt=At((()=>(0,o._)("img",{src:Tt,alt:""},null,-1))),Ot=[Zt],Wt={class:"content-wrap"},Kt={class:"modal-title"},Pt={class:"modal-text"},Yt=["src"],Ht={class:"info-wrap"},Ut={class:"info-text"},Jt={class:"info-text"};function Vt(t,e,l,n,a,i){return(0,o.wg)(),(0,o.iD)("div",Et,[Nt,(0,o._)("div",Rt,[(0,o._)("div",jt,[(0,o._)("button",{class:"close-button",onClick:e[0]||(e[0]=e=>t.$emit("closeModal"))},Ot),(0,o._)("div",Wt,[(0,o._)("h3",Kt,(0,s.zw)(t.$localizeFilter("congratulations")),1),(0,o._)("p",Pt,(0,s.zw)(t.$localizeFilter("your_prize")+'"'+t.winSlotCollectionName+'"'),1),(0,o._)("img",{src:t.winSlot.previewLink||"",alt:"",class:"prize-img"},null,8,Yt),(0,o._)("div",Ht,[(0,o._)("p",Ut,(0,s.zw)(t.$localizeFilter("your_prize_sent")+" "+(t.profile?.email||"")),1),(0,o._)("p",Jt,(0,s.zw)(t.$localizeFilter("your_progress_displayed")),1)])])])])])}l(9849);var Gt=(0,m.aZ)({props:{winSlot:{type:Object},collections:{type:Array}},computed:{winSlotCollectionName(){let t="";return this.collections.forEach((e=>{e.collectionId===this.winSlot.collectionId&&(t+=e.name+" "),e.items.forEach((l=>{l.nftId===this.winSlot.nftId&&(t+=l.numberInCollection+"/"+e.total)}))})),t},profile(){return this.$store.state.profile}},async mounted(){try{await this.$store.dispatch("getProfile")}catch(t){console.log(t)}}});const Qt=(0,L.Z)(Gt,[["render",Vt],["__scopeId","data-v-18a3f93a"]]);var Xt=Qt;const te=t=>((0,o.dD)("data-v-157b5e37"),t=t(),(0,o.Cn)(),t),ee={class:"wrapper"},le=te((()=>(0,o._)("div",{class:"blur"},null,-1))),oe={class:"modal-container"},se={class:"modal-content"},ne=te((()=>(0,o._)("img",{src:Tt,alt:""},null,-1))),ae=[ne],ie={class:"content-wrap"},ce={class:"modal-text"};function re(t,e,l,n,a,i){return(0,o.wg)(),(0,o.iD)("div",ee,[le,(0,o._)("div",oe,[(0,o._)("div",se,[(0,o._)("button",{class:"close-button",onClick:e[0]||(e[0]=e=>t.$emit("closeModal"))},ae),(0,o._)("div",ie,[(0,o._)("p",ce,(0,s.zw)(t.$localizeFilter("lottery_info_text")),1)])])])])}var de=(0,m.aZ)({computed:{profile(){return this.$store.state.profile}},async mounted(){try{await this.$store.dispatch("getProfile")}catch(t){console.log(t)}}});const ue=(0,L.Z)(de,[["render",re],["__scopeId","data-v-157b5e37"]]);var pe=ue;function he(t){let e,l=t.length;while(0!=l)e=Math.floor(Math.random()*l),l--,[t[l],t[e]]=[t[e],t[l]];return t}var ge=(0,m.aZ)({name:"NFTBonuses",components:{LotterySpinning:q,NFTBonusesDesktop:ct,NFTBonusesTablet:qt,CongratulationModal:Xt,LotteryInfoModal:pe},data(){return{collections:[],notCollected:[],trialsCount:0,winSlot:{},showCongratulationModal:!1,showLotteryInfoModal:!1}},computed:{profile(){return this.$store.getters.profile},referralsCounts(){let t=[],e=0;for(let l of this.list)t.push({from:e+1,to:e+l.length}),e+=l.length;return t}},created(){window.addEventListener("scroll",this.handleScroll)},unmounted(){window.removeEventListener("scroll",this.handleScroll)},methods:{scrollToTop(){let t=document.getElementById("lotterySpinningId");t.scrollIntoView({behavior:"smooth"})},getNotCollected(t=null,e=null){let l=[];if(t){l=JSON.parse(JSON.stringify(this.notCollected)),l=l.slice(0,29);let e=l.length/2;l.splice(e,0,t)}else{for(let t=0;t<this.collections.length;t++)for(let e=0;e<this.collections[t].items.length;e++)!1===this.collections[t].items[e].isCollected&&l.push(this.collections[t].items[e]);he(l),l=l.slice(0,30)}this.notCollected=l},updateNotCollected(t,e){this.getNotCollected(t,e)},showCongratulationModal2(t){this.winSlot=t,this.showCongratulationModal=!0},closeModals(){this.showCongratulationModal&&this.reloadData(),this.showCongratulationModal=!1,this.showLotteryInfoModal=!1},handleScroll(t){window.pageYOffset>100?document.querySelector(".scroll-up-btn").style.display="block":document.querySelector(".scroll-up-btn").style.display="none"},scrollUp(){window.scrollTo({top:0,behavior:"smooth"})},openTable(t){const e=document.querySelectorAll(".table")[t];e.classList.toggle("open");const l=document.querySelectorAll(".open-list")[t];l.classList.toggle("arrow-up")},async logout(){try{await this.$store.dispatch("logout")}catch(t){console.log(t)}finally{location.href=`${location.origin}/`}},async reloadData(){this.notCollected=[],this.loadData()},async loadData(){try{const t=await this.$store.dispatch("getCollections");this.trialsCount=t.trialsCount,this.collections=t.collections,this.getNotCollected()}catch(t){this.$error(t)}}},async mounted(){try{await this.loadData(),await this.$store.dispatch("getProfile")}catch(t){console.log(t)}}});const we=(0,L.Z)(ge,[["render",w],["__scopeId","data-v-12ce258d"]]);var me=we},8900:function(t,e,l){t.exports=l.p+"img/arrow-right.6e080af5.svg"},4451:function(t,e,l){t.exports=l.p+"img/info_btn.bb460817.svg"},7650:function(t,e,l){t.exports=l.p+"img/scroll-up.937450a4.svg"}}]);