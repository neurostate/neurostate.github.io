"use strict";(self["webpackChunkneurostate_cabinet"]=self["webpackChunkneurostate_cabinet"]||[]).push([[993],{7307:function(e,t,s){s.d(t,{Z:function(){return g}});var r=s(3396),o=s(7139),a=s.p+"img/eye.ea6fec46.svg";const l=e=>((0,r.dD)("data-v-5afbacf6"),e=e(),(0,r.Cn)(),e),n=["innerHTML"],i={key:2,class:"sublabel"},u=["value","type","placeholder"],d={class:"error-label-wrapper"},p={key:3,class:"sublabel extralabel"},c=l((()=>(0,r._)("img",{src:a,alt:"eye",class:"eye"},null,-1))),m=[c];function w(e,t,s,a,l,c){return(0,r.wg)(),(0,r.iD)("div",{class:(0,o.C_)(["input-wrapper",s.fromMortgage?" input-wrapper-flex ":""])},[""!==s.title?((0,r.wg)(),(0,r.iD)("label",{key:0,class:"label",style:(0,o.j5)(s.fromMortgage?"font-weight: 600; margin-bottom: 0":"")},(0,o.zw)(s.title),5)):(0,r.kq)("",!0),""!==s.vhtmlTitle?((0,r.wg)(),(0,r.iD)("label",{key:1,class:"label",innerHTML:s.vhtmlTitle},null,8,n)):(0,r.kq)("",!0),""!==s.text?((0,r.wg)(),(0,r.iD)("label",i,(0,o.zw)(s.text),1)):(0,r.kq)("",!0),(0,r._)("input",{class:(0,o.C_)({error:s.errors.length||s.makeError,inputType2:!0===s.isBooking,input:!0}),value:s.modelValue,type:c.getType(),placeholder:s.placeholderValue,onInput:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.value))},null,42,u),(0,r._)("div",d,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(s.errors,((e,t)=>((0,r.wg)(),(0,r.iD)("label",{class:"error-label",key:t},(0,o.zw)(e.$message),1)))),128))]),""!==s.subtext?((0,r.wg)(),(0,r.iD)("label",p,(0,o.zw)(s.subtext),1)):(0,r.kq)("",!0),s.isPassword?((0,r.wg)(),(0,r.iD)("button",{key:4,type:"button",class:"eye-button",onClick:t[1]||(t[1]=e=>l.showPassword=!l.showPassword)},m)):(0,r.kq)("",!0)],2)}var b={name:"CustomInput",props:{modelValue:{type:String,default:""},errors:{type:Array,default:()=>[]},title:{type:String,default:""},vhtmlTitle:{type:String,default:""},text:{type:String,default:""},subtext:{type:String,default:""},isPassword:{type:Boolean,default:!1},isPhone:{type:Boolean,default:!1},isNumber:{type:Boolean,default:!1},fromMortgage:{type:Boolean,default:!1},placeholderValue:{type:String,default:""},makeError:{type:Boolean,default:!1},isBooking:{type:Boolean,default:!1}},data(){return{showPassword:!1}},emits:["update:modelValue"],methods:{updateValue(e){this.$emit("update:modelValue",e.target.value)},getType(){return this.isPhone?"tel":this.isPassword&&!this.showPassword?"password":this.isNumber?"number":"text"}}},h=s(89);const f=(0,h.Z)(b,[["render",w],["__scopeId","data-v-5afbacf6"]]);var g=f},3189:function(e,t,s){s.r(t),s.d(t,{default:function(){return g}});s(7658);var r=s(3396),o=s(7139);const a={class:"new-password"},l={class:"container"},n={class:"form"},i={class:"form__header"};function u(e,t,s,u,d,p){const c=(0,r.up)("CustomInput");return(0,r.wg)(),(0,r.iD)("div",a,[(0,r._)("div",l,[(0,r._)("form",n,[(0,r._)("button",{type:"button",class:"close-btn",onClick:t[0]||(t[0]=t=>e.$router.push("/login"))}),(0,r._)("div",i,(0,o.zw)(e.$localizeFilter("new_password")),1),(0,r.Wm)(c,{modelValue:e.password,errors:e.v$.password.$errors,title:e.$localizeFilter("your_new_password"),isPassword:!0,"onUpdate:modelValue":t[1]||(t[1]=t=>{e.password=t,e.v$.password.$touch()})},null,8,["modelValue","errors","title"]),(0,r.Wm)(c,{modelValue:e.confirmPassword,errors:e.v$.confirmPassword.$errors,title:e.$localizeFilter("repeat_new_password"),isPassword:!0,"onUpdate:modelValue":t[2]||(t[2]=t=>{e.confirmPassword=t,e.v$.confirmPassword.$touch()})},null,8,["modelValue","errors","title"]),(0,r._)("button",{type:"button",id:"submitButton",class:"button",onClick:t[3]||(t[3]=(...t)=>e.submitHandler&&e.submitHandler(...t))},(0,o.zw)(e.$localizeFilter("change_password")),1)])])])}var d=s(3053),p=s(9117),c=s(7389),m=s(9849),w=s(7307),b=(0,c.aZ)({components:{CustomInput:w.Z},props:{token:{type:String,required:!0}},setup(){return{v$:(0,d.ZP)()}},data(){return{password:"",confirmPassword:""}},validations(){return{password:{required:p.BM.withMessage((0,m.Z)("field_must_not_be_empty"),p.C1)},confirmPassword:{sameAsPassword:p.BM.withMessage((0,m.Z)("fields_not_match"),(0,p.sH)(this.password))}}},methods:{async submitHandler(){if(this.v$.$touch(),this.v$.$error)return void setTimeout((()=>{this.buttonKey+=1}),1e3);const e=document.getElementById("submitButton");e.classList.add("button--loading");try{await this.$store.dispatch("restorePassword",{newPassword:this.password,code:this.token}),setTimeout((()=>{e.classList.remove("button--loading"),this.$message((0,m.Z)("restore_password_successfull")),this.$router.push("/login")}),1e3)}catch(t){setTimeout((()=>{this.$error(t),e.classList.remove("button--loading"),this.buttonKey+=1}),1e3)}}},computed:{}}),h=s(89);const f=(0,h.Z)(b,[["render",u],["__scopeId","data-v-605b48c0"]]);var g=f}}]);