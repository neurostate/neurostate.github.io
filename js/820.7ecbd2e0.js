"use strict";(self["webpackChunkneurostate_cabinet"]=self["webpackChunkneurostate_cabinet"]||[]).push([[820],{4318:function(e,t,l){l.r(t),l.d(t,{default:function(){return bt}});var i=l(3396),r=l(7139),s=l(7650);const a=e=>((0,i.dD)("data-v-7a97990e"),e=e(),(0,i.Cn)(),e),o={class:"ref-program"},n={class:"title"},c={class:"id-wrap"},_={class:"id-title"},d={class:"id-data"},u={class:"wallet-wrap ref-link"},f={class:"wallet"},m={class:"wallet__title"},g={class:"buttons-wrap"},p=a((()=>(0,i._)("img",{src:s,alt:""},null,-1))),v=[p];function w(e,t,l,s,a,p){const w=(0,i.up)("BookingReferrals"),h=(0,i.up)("copied-input"),z=(0,i.up)("ReferralProgramDesktop"),k=(0,i.up)("ReferralProgramTablet");return(0,i.wg)(),(0,i.iD)("div",o,[(0,i._)("div",n,(0,r.zw)(e.$localizeFilter("referral_program")),1),(0,i._)("div",c,[(0,i._)("span",_,(0,r.zw)(e.$localizeFilter("your_id")),1),(0,i._)("span",d,(0,r.zw)(" "+e.profile?.id||0),1)]),(0,i.Wm)(w,{style:"margin-bottom: 64px;"}),(0,i._)("div",u,[(0,i._)("div",f,[(0,i._)("div",m,(0,r.zw)(e.$localizeFilter("your_referral_link_title")),1),(0,i.Wm)(h,{"input-text":e.getReferralLink()},null,8,["input-text"])])]),(0,i.Wm)(z,{list:e.list,class:"desktop"},null,8,["list"]),(0,i.Wm)(k,{list:e.list,class:"tablet"},null,8,["list"]),(0,i._)("div",g,[(0,i._)("button",{class:"button",onClick:t[0]||(t[0]=t=>e.$utils.copy(e.getReferralLink(),e.$localizeFilter("ref_link_copied")))},(0,r.zw)(e.$localizeFilter("invite_friends")),1),(0,i._)("button",{class:"leave-session",onClick:t[1]||(t[1]=t=>e.logout())},(0,r.zw)(e.$localizeFilter("leave_session")),1)]),(0,i._)("div",{class:"scroll-up-btn",onClick:t[2]||(t[2]=t=>e.scrollUp())},v)])}l(7658);var h=l(9849),z=l(7389),k=l(8900),b=l.p+"img/telega.e881fe4a.svg",$=l.p+"img/mailto.7105b911.svg";const C=e=>((0,i.dD)("data-v-f29da232"),e=e(),(0,i.Cn)(),e),y={class:"list-wrapper"},D={class:"level-header"},F={class:"level-num"},S={class:"count"},L=["onClick"],T=C((()=>(0,i._)("img",{src:k,alt:"",class:"arrow-right"},null,-1))),x=[T],R={class:"table"},Z={class:"row table-header"},q={class:"cell header"},A={class:"cell header"},M={class:"cell header"},P={class:"cell header"},U={class:"cell header"},B={class:"cell header"},I={class:"cell header"},Y={class:"cell content"},E={class:"cell content"},H={class:"cell content"},K={class:"cell content"},W={class:"cell content"},j={class:"cell content"},N={class:"cell content connect"},V=["onClick"],O=C((()=>(0,i._)("img",{src:b,alt:"",class:"telegram"},null,-1))),G=[O],J=["onClick"],Q=C((()=>(0,i._)("img",{src:$,alt:"",class:"mailto"},null,-1))),X=[Q];function ee(e,t,l,s,a,o){return(0,i.wg)(),(0,i.iD)("div",y,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.list,((t,l)=>((0,i.wg)(),(0,i.iD)("div",{key:l,class:"level"},[(0,i._)("div",D,[(0,i._)("span",F,(0,r.zw)(e.$localizeFilter("level")+" "+(l+1)),1),(0,i._)("span",S,(0,r.zw)(e.referralsCounts[l].from+" - "+e.referralsCounts[l].to),1),(0,i._)("button",{class:"open-list",onClick:t=>e.openTable(l)},x,8,L)]),(0,i._)("div",R,[(0,i._)("div",Z,[(0,i._)("div",q,(0,r.zw)(e.$localizeFilter("referral_id")),1),(0,i._)("div",A,(0,r.zw)(e.$localizeFilter("name")),1),(0,i._)("div",M,(0,r.zw)(e.$localizeFilter("referral_invited")),1),(0,i._)("div",P,(0,r.zw)(e.$localizeFilter("invested")),1),(0,i._)("div",U,(0,r.zw)(e.$localizeFilter("profit_from_coin")),1),(0,i._)("div",B,(0,r.zw)(e.$localizeFilter("profit_from_dividends")),1),(0,i._)("div",I,(0,r.zw)(e.$localizeFilter("connect")),1)]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t,((t,l)=>((0,i.wg)(),(0,i.iD)("div",{key:l,class:"row table-content"},[(0,i._)("div",Y,(0,r.zw)(t.id),1),(0,i._)("div",E,(0,r.zw)(t.name),1),(0,i._)("div",H,(0,r.zw)(t.children.length),1),(0,i._)("div",K,(0,r.zw)(t.invested/1e6+" USDT"),1),(0,i._)("div",W,(0,r.zw)(t.profitFromCoin/1e6+" USDT"),1),(0,i._)("div",j,(0,r.zw)(t.profitFromDividends/1e6+" USDT"),1),(0,i._)("div",N,[(0,i._)("button",{style:(0,r.j5)(t.messengerLink?"":"pointer-events: none; opacity: 0.5;"),class:"social",onClick:l=>e.$utils.copy(t.messengerLink,e.$localizeFilter("ref_link_messenger_copied"))},G,12,V),(0,i._)("button",{class:"social",onClick:l=>e.$utils.copy(t.email,e.$localizeFilter("ref_link_email_copied"))},X,8,J)])])))),128))])])))),128))])}var te=(0,z.aZ)({name:"ReferralProgramDesktop",props:{list:{type:Array,default:()=>[]}},computed:{profile(){return this.$store.getters.profile},referralsCounts(){let e=[],t=0;for(let l of this.list)e.push({from:t+1,to:t+l.length}),t+=l.length;return e}},methods:{referralEmail(){return`mailto: ${this.referral.email}`||""},openTable(e){const t=document.querySelectorAll(".table")[e];t.classList.toggle("open");const l=document.querySelectorAll(".open-list")[e];l.classList.toggle("arrow-up")}}}),le=l(89);const ie=(0,le.Z)(te,[["render",ee],["__scopeId","data-v-f29da232"]]);var re=ie;const se=e=>((0,i.dD)("data-v-6b08de62"),e=e(),(0,i.Cn)(),e),ae={class:"list-wrapper"},oe={class:"level-header"},ne={class:"level-num"},ce={class:"count"},_e=["onClick"],de=se((()=>(0,i._)("img",{src:k,alt:"",class:"arrow-right"},null,-1))),ue=[de],fe={class:"table-tablet"},me={key:0,class:"level-row"},ge={class:"level-num"},pe={class:"content-row"},ve={class:"content-row__title title__id"},we={class:"content-row__data"},he={class:"content-row"},ze={class:"content-row__title"},ke={class:"content-row__data"},be={class:"content-row"},$e={class:"content-row__title"},Ce={class:"content-row__data"},ye={class:"content-row"},De={class:"content-row__title"},Fe={class:"content-row__data"},Se={class:"content-row"},Le={class:"content-row__title"},Te={class:"content-row__data"},xe={class:"content-row"},Re={class:"content-row__title"},Ze={class:"content-row__data"},qe={class:"content-row"},Ae={class:"content-row__title"},Me={class:"content-row__data connect"},Pe=["onClick"],Ue=se((()=>(0,i._)("button",{class:"social"},[(0,i._)("img",{src:b,alt:"",class:"telegram"})],-1))),Be=[Ue],Ie=["onClick"],Ye=se((()=>(0,i._)("button",{class:"social"},[(0,i._)("img",{src:$,alt:"",class:"mailto"})],-1))),Ee=[Ye];function He(e,t,l,s,a,o){return(0,i.wg)(),(0,i.iD)("div",ae,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.list,((t,l)=>((0,i.wg)(),(0,i.iD)("div",{key:l,class:"level"},[(0,i._)("div",oe,[(0,i._)("span",ne,(0,r.zw)(e.$localizeFilter("level")+" "+(l+1)),1),(0,i._)("span",ce,(0,r.zw)(e.referralsCounts[l].from+" - "+e.referralsCounts[l].to),1),(0,i._)("button",{class:"open-list-tablet",onClick:t=>e.openTable(l)},ue,8,_e)]),(0,i._)("div",fe,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t,((t,s)=>((0,i.wg)(),(0,i.iD)("div",{key:s,class:"table-content"},[0!==s?((0,i.wg)(),(0,i.iD)("div",me,[(0,i._)("span",ge,(0,r.zw)(e.$localizeFilter("level")+" "+(l+1)),1)])):(0,i.kq)("",!0),(0,i._)("div",pe,[(0,i._)("div",ve,(0,r.zw)(e.$localizeFilter("referral_id")),1),(0,i._)("div",we,(0,r.zw)(t.id),1)]),(0,i._)("div",he,[(0,i._)("div",ze,(0,r.zw)(e.$localizeFilter("name")),1),(0,i._)("div",ke,(0,r.zw)(t.name),1)]),(0,i._)("div",be,[(0,i._)("div",$e,(0,r.zw)(e.$localizeFilter("referral_invited")),1),(0,i._)("div",Ce,(0,r.zw)(t.children.length),1)]),(0,i._)("div",ye,[(0,i._)("div",De,(0,r.zw)(e.$localizeFilter("invested")),1),(0,i._)("div",Fe,(0,r.zw)(t.invested/1e6+" USDT"),1)]),(0,i._)("div",Se,[(0,i._)("div",Le,(0,r.zw)(e.$localizeFilter("profit_from_coin")),1),(0,i._)("div",Te,(0,r.zw)(t.profitFromCoin/1e6+" USDT"),1)]),(0,i._)("div",xe,[(0,i._)("div",Re,(0,r.zw)(e.$localizeFilter("profit_from_dividends")),1),(0,i._)("div",Ze,(0,r.zw)(t.profitFromDividends/1e6+" USDT"),1)]),(0,i._)("div",qe,[(0,i._)("div",Ae,(0,r.zw)(e.$localizeFilter("connect")),1),(0,i._)("div",Me,[(0,i._)("a",{style:(0,r.j5)(t.messengerLink?"":"pointer-events: none; opacity: 0.5;"),target:"_blank",class:"social-link",onClick:l=>e.$utils.copy(t.messengerLink,e.$localizeFilter("ref_link_messenger_copied"))},Be,12,Pe),(0,i._)("a",{onClick:l=>e.$utils.copy(t.email,e.$localizeFilter("ref_link_email_copied"))},Ee,8,Ie)])])])))),128))])])))),128))])}var Ke=(0,z.aZ)({name:"ReferralProgramDesktop",props:{list:{type:Array,default:()=>[]}},computed:{profile(){return this.$store.getters.profile},referralsCounts(){let e=[],t=0;for(let l of this.list)e.push({from:t+1,to:t+l.length}),t+=l.length;return e}},methods:{openTable(e){const t=document.querySelectorAll(".table-tablet")[e];t.classList.toggle("open");const l=document.querySelectorAll(".open-list-tablet")[e];l.classList.toggle("arrow-up")}}});const We=(0,le.Z)(Ke,[["render",He],["__scopeId","data-v-6b08de62"]]);var je=We,Ne=l(9242);const Ve={class:"booking-referrals"},Oe={class:"booking-referrals__title"},Ge={class:"booking-referrals__list"},Je={class:"booking-referrals__item"},Qe={class:"booking-referrals__item"},Xe={class:"booking-referrals__item"},et={class:"booking-referrals__item"},tt={key:0,class:"booked flex"},lt={class:"flex-item"},it={class:"flex-item__title"},rt={class:"flex-item"},st={class:"flex-item__title"},at={class:"flex-item"},ot={class:"flex-item__title"},nt={key:1,class:"not-booked"},ct={class:"input-label"},_t={class:"input-button-wrapper"},dt={class:"input-wrapper"},ut={key:0,class:"error-label-wrapper"};function ft(e,t,l,s,a,o){return(0,i.wg)(),(0,i.iD)("div",Ve,[(0,i._)("div",Oe,(0,r.zw)(e.$localizeFilter("booking_referrals_title")),1),(0,i._)("ul",Ge,[(0,i._)("li",Je,(0,r.zw)(e.$localizeFilter("booking_referrals_item_text_1")),1),(0,i._)("li",Qe,(0,r.zw)(e.$localizeFilter("booking_referrals_item_text_2")),1),(0,i._)("li",Xe,(0,r.zw)(e.$localizeFilter("booking_referrals_item_text_3")),1),(0,i._)("li",et,(0,r.zw)(e.$localizeFilter("booking_referrals_item_text_4")),1)]),e.data?((0,i.wg)(),(0,i.iD)("div",tt,[(0,i._)("div",lt,[(0,i._)("div",it,(0,r.zw)(e.$localizeFilter("invited_and_paid_referrals"))+": ",1),(0,i._)("div",{class:(0,r.C_)(["flex-item__count",e.getCountClass()])},(0,r.zw)(e.data.invitedAndPaidReferralsCount+"/"+e.data.referralsCount),3)]),(0,i._)("div",rt,[(0,i._)("div",st,(0,r.zw)(e.$localizeFilter("referral_income_amount"))+": ",1),(0,i._)("div",{class:(0,r.C_)(["flex-item__count",e.getCountClass()])},(0,r.zw)(e.$utils.formatNumber(e.data.referralAccrualsAmount/1e6,"en-US",0,0)+" USDT"),3)]),(0,i._)("div",at,[(0,i._)("div",ot,(0,r.zw)(e.$localizeFilter("left"))+":",1),(0,i._)("div",{class:(0,r.C_)(["flex-item__count",e.getCountClass()])},(0,r.zw)(e.timeLeftString),3)])])):((0,i.wg)(),(0,i.iD)("div",nt,[(0,i._)("label",ct,(0,r.zw)(e.$localizeFilter("booking_referrals_input_title")),1),(0,i._)("div",_t,[(0,i._)("div",dt,[(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.referralsCount=t),placeholder:"100",class:"input"},null,512),[[Ne.nr,e.referralsCount]]),e.v$.referralsCount.$errors.length>0?((0,i.wg)(),(0,i.iD)("div",ut,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.v$.referralsCount.$errors,((e,t)=>((0,i.wg)(),(0,i.iD)("label",{key:t,class:"error-label"},(0,r.zw)(e.$message),1)))),128))])):(0,i.kq)("",!0)]),(0,i._)("button",{class:"button",onClick:t[1]||(t[1]=t=>e.confirmBooking())},(0,r.zw)(e.$localizeFilter("confirm_referral_booking")),1)])]))])}var mt=l(3053),gt=l(9117),pt=(0,z.aZ)({name:"BookingReferrals",components:{},setup(){return{v$:(0,mt.ZP)()}},data(){return{data:null,referralsCount:null,timeLeft:null,timeLeftString:null,interval:null}},validations(){return{referralsCount:{required:gt.BM.withMessage((0,h.Z)("field_must_not_be_empty"),gt.C1),minValue:gt.BM.withMessage((0,h.Z)("min_value",[20]),(0,gt.uv)(20))}}},computed:{},watch:{},async mounted(){await this.loadData(),this.data&&(this.timeLeft=Math.max(this.data.bookingEndTimestamp-Date.now(),0),this.timeLeftString=this.getTimeString(this.timeLeft),this.interval=setInterval((()=>{this.timeLeft=Math.max(this.data.bookingEndTimestamp-Date.now(),0),this.timeLeftString=this.getTimeString(this.timeLeft)}),1e3))},unmounted(){this.interval&&(clearInterval(this.interval),this.interval=null)},methods:{getTimeString(e){let t=Math.floor(e/1e3),l=Math.floor(t/3600/24),i=Math.floor(t%86400/3600),r=Math.floor(t%3600/60),s=Math.floor(t%60);return i<10&&(i="0"+i),r<10&&(r="0"+r),s<10&&(s="0"+s),`${l} ${(0,h.Z)("days")} ${i}:${r}:${s}`},async loadData(){try{const e=await this.$store.dispatch("getBookingReferralsData");this.data=e}catch(e){console.log(e)}},async confirmBooking(){if(this.v$.$touch(),!this.v$.$error)try{await this.$store.dispatch("createBookingReferralsRequest",Number(this.referralsCount)),this.$message((0,h.Z)("booking_referrals_success")),await this.loadData()}catch(e){this.$error(e)}},getCountClass(){return this.data.invitedAndPaidReferralsCount>=this.data.referralsCount?"blue":this.timeLeft<=0?"gray":"white"}}});const vt=(0,le.Z)(pt,[["render",ft]]);var wt=vt,ht=l(4854),zt=(0,z.aZ)({name:"ReferralProgram",components:{ReferralProgramDesktop:re,ReferralProgramTablet:je,BookingReferrals:wt,CopiedInput:ht.Z},data(){return{list:[]}},computed:{profile(){return this.$store.getters.profile},referralsCounts(){let e=[],t=0;for(let l of this.list)e.push({from:t+1,to:t+l.length}),t+=l.length;return e}},created(){window.addEventListener("scroll",this.handleScroll)},unmounted(){window.removeEventListener("scroll",this.handleScroll)},async mounted(){try{await this.loadData(),await this.$store.dispatch("getProfile")}catch(e){console.log(e)}},methods:{handleScroll(e){window.pageYOffset>100?document.querySelector(".scroll-up-btn").style.display="block":document.querySelector(".scroll-up-btn").style.display="none"},getReferralLink(){return location.origin+`?referralToken=${this.profile?.referralToken}`||""},scrollUp(){window.scrollTo({top:0,behavior:"smooth"})},openTable(e){const t=document.querySelectorAll(".table")[e];t.classList.toggle("open");const l=document.querySelectorAll(".open-list")[e];l.classList.toggle("arrow-up")},async logout(){try{await this.$store.dispatch("logout")}catch(e){console.log(e)}finally{location.href=`${location.origin}/`}},async loadData(){try{const e=await this.$store.dispatch("getStructure");this.list=e.list,console.log(this.list)}catch(e){this.$error(e)}}}});const kt=(0,le.Z)(zt,[["render",w],["__scopeId","data-v-7a97990e"]]);var bt=kt},8900:function(e,t,l){e.exports=l.p+"img/arrow-right.6e080af5.svg"},7650:function(e,t,l){e.exports=l.p+"img/scroll-up.937450a4.svg"}}]);