"use strict";(self["webpackChunkneurostate_cabinet"]=self["webpackChunkneurostate_cabinet"]||[]).push([[500],{2096:function(e,t,o){o.d(t,{Z:function(){return f}});var l=o(3396),s=o(7139),r=o.p+"img/eye.ea6fec46.svg";const a=e=>((0,l.dD)("data-v-4be97890"),e=e(),(0,l.Cn)(),e),i=["innerHTML"],n={key:2,class:"sublabel"},u=["value","type","placeholder"],m={class:"error-label-wrapper"},d={key:3,class:"sublabel extralabel"},p=a((()=>(0,l._)("img",{src:r,alt:"eye",class:"eye"},null,-1))),c=[p];function g(e,t,o,r,a,p){return(0,l.wg)(),(0,l.iD)("div",{class:(0,s.C_)(["input-wrapper",o.fromMortgage?" input-wrapper-flex ":""])},[""!==o.title?((0,l.wg)(),(0,l.iD)("label",{key:0,class:"label",style:(0,s.j5)(o.fromMortgage?"font-weight: 600; margin-bottom: 0":"")},(0,s.zw)(o.title),5)):(0,l.kq)("",!0),""!==o.vhtmlTitle?((0,l.wg)(),(0,l.iD)("label",{key:1,class:"label",innerHTML:o.vhtmlTitle},null,8,i)):(0,l.kq)("",!0),""!==o.text?((0,l.wg)(),(0,l.iD)("label",n,(0,s.zw)(o.text),1)):(0,l.kq)("",!0),(0,l._)("input",{class:(0,s.C_)({error:o.errors.length||o.makeError,inputType2:!0===o.isBooking,input:!0}),value:o.modelValue,type:p.getType(),placeholder:o.placeholderValue,onInput:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.value))},null,42,u),(0,l._)("div",m,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.errors,((e,t)=>((0,l.wg)(),(0,l.iD)("label",{key:t,class:"error-label"},(0,s.zw)(e.$message),1)))),128))]),""!==o.subtext?((0,l.wg)(),(0,l.iD)("label",d,(0,s.zw)(o.subtext),1)):(0,l.kq)("",!0),o.isPassword?((0,l.wg)(),(0,l.iD)("button",{key:4,type:"button",class:"eye-button",onClick:t[1]||(t[1]=e=>a.showPassword=!a.showPassword)},c)):(0,l.kq)("",!0)],2)}var h={name:"CustomInput",props:{modelValue:{type:String,default:""},errors:{type:Array,default:()=>[]},title:{type:String,default:""},vhtmlTitle:{type:String,default:""},text:{type:String,default:""},subtext:{type:String,default:""},isPassword:{type:Boolean,default:!1},isPhone:{type:Boolean,default:!1},isNumber:{type:Boolean,default:!1},fromMortgage:{type:Boolean,default:!1},placeholderValue:{type:String,default:""},makeError:{type:Boolean,default:!1},isBooking:{type:Boolean,default:!1}},emits:["update:modelValue"],data(){return{showPassword:!1}},methods:{updateValue(e){this.$emit("update:modelValue",e.target.value)},getType(){return this.isPhone?"tel":this.isPassword&&!this.showPassword?"password":this.isNumber?"number":"text"}}},w=o(89);const b=(0,w.Z)(h,[["render",g],["__scopeId","data-v-4be97890"]]);var f=b},2992:function(e,t,o){o.r(t),o.d(t,{default:function(){return M}});o(7658);var l=o(3396),s=o(7139),r=o(5075),a=o(7886);const i=e=>((0,l.dD)("data-v-e48205be"),e=e(),(0,l.Cn)(),e),n={class:"register"},u={action:"",class:"form"},m={class:"register-title"},d={class:"sponsor-email"},p={class:"register-from-socail-networks"},c={class:"register-from-socail-networks__buttons"},g=i((()=>(0,l._)("img",{src:r,alt:"google"},null,-1))),h=[g],w=i((()=>(0,l._)("img",{src:a,alt:"google"},null,-1))),b=[w],f={class:"have-account"};function _(e,t,o,r,a,i){const g=(0,l.up)("CustomInput");return(0,l.wg)(),(0,l.iD)("div",n,[(0,l._)("form",u,[(0,l._)("h2",m,(0,s.zw)(e.$localizeFilter("register")),1),(0,l.Wm)(g,{"model-value":e.fullName,errors:e.v$.fullName.$errors,title:"*"+e.$localizeFilter("full_name")+":","onUpdate:modelValue":t[0]||(t[0]=t=>{e.fullName=t,e.v$.fullName.$touch()})},null,8,["model-value","errors","title"]),(0,l.Wm)(g,{"model-value":e.email,errors:e.v$.email.$errors,title:"*"+e.$localizeFilter("your_email"),"onUpdate:modelValue":t[1]||(t[1]=t=>{e.email=t,e.v$.email.$touch()})},null,8,["model-value","errors","title"]),(0,l.Wm)(g,{"model-value":e.messengerLink,errors:e.v$.messengerLink.$errors,title:e.$localizeFilter("link_to_social_networks")+":","onUpdate:modelValue":t[2]||(t[2]=t=>{e.messengerLink=t,e.v$.messengerLink.$touch()})},null,8,["model-value","errors","title"]),(0,l.Wm)(g,{"model-value":e.phoneNumber,errors:e.v$.phoneNumber.$errors,"is-phone":!0,title:e.$localizeFilter("phone_number")+":","onUpdate:modelValue":t[3]||(t[3]=t=>{e.phoneNumber=t,e.v$.phoneNumber.$touch()})},null,8,["model-value","errors","title"]),(0,l.Wm)(g,{"model-value":e.password,errors:e.v$.password.$errors,"is-password":!0,title:"*"+e.$localizeFilter("your_password"),"onUpdate:modelValue":t[4]||(t[4]=t=>{e.password=t,e.v$.password.$touch()})},null,8,["model-value","errors","title"]),(0,l.Wm)(g,{"model-value":e.passwordAgain,errors:e.v$.passwordAgain.$errors,"is-password":!0,title:"*"+e.$localizeFilter("your_password_again")+":","onUpdate:modelValue":t[5]||(t[5]=t=>{e.passwordAgain=t,e.v$.passwordAgain.$touch()})},null,8,["model-value","errors","title"]),(0,l._)("div",d,(0,s.zw)(e.$localizeFilter("sponsor_email",[e.sponsorEmail])),1),(0,l._)("div",p,[(0,l._)("p",null,(0,s.zw)(e.$localizeFilter("register_from_socail_networks")),1),(0,l._)("div",c,[(0,l._)("button",{class:"register-from-socail-networks__button",type:"button",onClick:t[6]||(t[6]=t=>e.thirdPartyAuth("google"))},h),(0,l._)("button",{class:"register-from-socail-networks__button",type:"button",onClick:t[7]||(t[7]=t=>e.thirdPartyAuth("yandex"))},b)])]),(0,l._)("button",{id:"submitButton",class:"button register-button",type:"button",onClick:t[8]||(t[8]=(...t)=>e.submitHandler&&e.submitHandler(...t))},(0,s.zw)(e.$localizeFilter("register_2")),1),(0,l._)("p",f,(0,s.zw)(e.$localizeFilter("have_account")),1),(0,l._)("button",{class:"login",type:"button",onClick:t[9]||(t[9]=t=>e.$router.push("/login"))},(0,s.zw)(e.$localizeFilter("login")),1)])])}var v=o(3053),y=o(9117),$=o(7389),k=o(9849),z=o(2096),C=(o(6070),(0,$.aZ)({components:{CustomInput:z.Z},setup(){return{v$:(0,v.ZP)()}},data(){return{fullName:"",email:"",messengerLink:"",phoneNumber:"",password:"",passwordAgain:"",sponsorEmail:"official@neuro-state.com"}},validations(){return{email:{required:y.BM.withMessage((0,k.Z)("field_must_not_be_empty"),y.C1),email:y.BM.withMessage((0,k.Z)("field_must_be_valid_email_address"),y.Do)},password:{required:y.BM.withMessage((0,k.Z)("field_must_not_be_empty"),y.C1)},fullName:{required:y.BM.withMessage((0,k.Z)("field_must_not_be_empty"),y.C1)},messengerLink:{},phoneNumber:{},passwordAgain:{required:y.BM.withMessage((0,k.Z)("error_password_again"),(0,y.sH)(this.password))}}},async mounted(){if(localStorage.getItem("sponsorReferralToken"))try{let{email:e}=await this.$store.dispatch("getEmailByReferralToken",localStorage.getItem("sponsorReferralToken"));this.sponsorEmail=e||"official@neuro-state.com"}catch(e){console.log(e),this.sponsorEmail="official@neuro-state.com"}},methods:{thirdPartyAuth(e){delete localStorage.neurostateClientSession,delete localStorage.neurostateClientScope,delete localStorage.neurostateClientSessionExpireTimestamp,location.href=location.origin+"/auth/"+e+"?sponsorEmail="+this.sponsorEmail},async submitHandler(){if(this.v$.$touch(),this.v$.$error)return;const e=document.getElementById("submitButton");e.classList.add("button--loading");const t={fullName:this.fullName,email:this.email,password:this.password,phoneNumber:this.phoneNumber,sponsorEmail:this.sponsorEmail,messengerLink:this.messengerLink};try{await this.$store.dispatch("register",t),await this.$store.dispatch("login",t),this.$gtag.event("register",{method:"Google"});const{scope:o,email:l}=await this.$store.dispatch("getProfile");setTimeout((()=>{e.classList.remove("button--loading"),"not_activated_client"==o?this.$router.push("/confirmEmail?email="+l):this.$router.push("/cabinet")}),1e3)}catch(o){setTimeout((()=>{this.$error(o),e.classList.remove("button--loading"),this.buttonKey+=1}),1e3)}}}})),N=o(89);const B=(0,N.Z)(C,[["render",_],["__scopeId","data-v-e48205be"]]);var M=B},5075:function(e,t,o){e.exports=o.p+"img/google.b2539a72.svg"},7886:function(e,t,o){e.exports=o.p+"img/yandex.7dc70f0f.svg"}}]);