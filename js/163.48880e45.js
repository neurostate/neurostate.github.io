"use strict";(self["webpackChunkneurostate_cabinet"]=self["webpackChunkneurostate_cabinet"]||[]).push([[163],{6507:function(s,t,e){e.r(t),e.d(t,{default:function(){return v}});var o=e(3396),r=e(7139);const a=s=>((0,o.dD)("data-v-2dfe841c"),s=s(),(0,o.Cn)(),s),n={class:"new-password"},i={class:"container"},d={class:"form"},u=a((()=>(0,o._)("button",{type:"button",class:"close-btn"},null,-1))),l={class:"form__header"};function c(s,t,e,a,c,m){const w=(0,o.up)("CustomInput");return(0,o.wg)(),(0,o.iD)("div",n,[(0,o._)("div",i,[(0,o._)("form",d,[u,(0,o._)("div",l,(0,r.zw)(s.$localizeFilter("new_password")),1),(0,o.Wm)(w,{modelValue:s.password,errors:s.v$.password.$errors,title:s.$localizeFilter("your_new_password"),isPassword:!0,"onUpdate:modelValue":t[0]||(t[0]=t=>{s.password=t,s.v$.password.$touch()})},null,8,["modelValue","errors","title"]),(0,o.Wm)(w,{modelValue:s.confirmPassword,errors:s.v$.confirmPassword.$errors,title:s.$localizeFilter("repeat_new_password"),isPassword:!0,"onUpdate:modelValue":t[1]||(t[1]=t=>{s.confirmPassword=t,s.v$.confirmPassword.$touch()})},null,8,["modelValue","errors","title"]),(0,o._)("button",{type:"button",id:"submitButton",class:"button",onClick:t[2]||(t[2]=(...t)=>s.submitHandler&&s.submitHandler(...t))},(0,r.zw)(s.$localizeFilter("login")),1)])])])}e(7658);var m=e(3053),w=e(9117),p=e(7389),h=e(9849),_=e(2848),b=(0,p.aZ)({components:{CustomInput:_.Z},props:{token:{type:String,required:!0}},setup(){return{v$:(0,m.ZP)()}},data(){return{password:"",confirmPassword:""}},validations(){return{password:{required:w.BM.withMessage((0,h.Z)("field_must_not_be_empty"),w.C1)},confirmPassword:{sameAsPassword:w.BM.withMessage((0,h.Z)("fields_not_match"),(0,w.sH)(this.password))}}},methods:{async submitHandler(){if(this.v$.$touch(),this.v$.$error)return void setTimeout((()=>{this.buttonKey+=1}),1e3);const s=document.getElementById("submitButton");s.classList.add("button--loading");try{await this.$store.dispatch("restorePassword",{newPassword:this.password,code:this.token}),setTimeout((()=>{s.classList.remove("button--loading"),this.$router.push("/login")}),1e3)}catch(t){setTimeout((()=>{this.$error(t),s.classList.remove("button--loading"),this.buttonKey+=1}),1e3)}}},computed:{}}),f=e(89);const $=(0,f.Z)(b,[["render",c],["__scopeId","data-v-2dfe841c"]]);var v=$}}]);