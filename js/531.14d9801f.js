"use strict";(self["webpackChunkneurostate_cabinet"]=self["webpackChunkneurostate_cabinet"]||[]).push([[531],{3257:function(e,l,t){t.r(l),t.d(l,{default:function(){return Cl}});var i=t(3396),s=t(7139),r=t(82),a=t(7650);const o=e=>((0,i.dD)("data-v-c2a8433e"),e=e(),(0,i.Cn)(),e),n={class:"ref-program"},c={class:"title"},_={class:"id-wrap"},d={class:"id-title"},u={class:"id-data"},f={class:"wallet-wrap ref-link"},m={class:"wallet"},g={class:"wallet__title"},v={class:"wallet-adress-wrap"},w={class:"wallet-adress"},p={class:"copy-button"},h={class:"buttons-wrap"},z=o((()=>(0,i._)("img",{src:a,alt:""},null,-1))),k=[z];function b(e,l,t,a,o,z){const b=(0,i.up)("BookingReferrals"),$=(0,i.up)("ReferralProgramDesktop"),y=(0,i.up)("ReferralProgramTablet");return(0,i.wg)(),(0,i.iD)("div",n,[(0,i._)("div",c,(0,s.zw)(e.$localizeFilter("referral_program")),1),(0,i._)("div",_,[(0,i._)("span",d,(0,s.zw)(e.$localizeFilter("your_id")),1),(0,i._)("span",u,(0,s.zw)(" "+e.profile?.id||0),1)]),(0,i.Wm)(b,{style:"margin-bottom: 64px;"}),(0,i._)("div",f,[(0,i._)("div",m,[(0,i._)("div",g,(0,s.zw)(e.$localizeFilter("your_referral_link_title")),1),(0,i._)("div",v,[(0,i._)("span",w,(0,s.zw)(e.getReferralLink()),1),(0,i._)("button",p,[(0,i._)("img",{src:r,alt:"",onClick:l[0]||(l[0]=l=>e.$utils.copy(e.getReferralLink()))})])])])]),(0,i.Wm)($,{list:e.list,class:"desktop"},null,8,["list"]),(0,i.Wm)(y,{list:e.list,class:"tablet"},null,8,["list"]),(0,i._)("div",h,[(0,i._)("button",{class:"button",onClick:l[1]||(l[1]=l=>e.$utils.copy(e.getReferralLink(),e.$localizeFilter("ref_link_copied")))},(0,s.zw)(e.$localizeFilter("invite_friends")),1),(0,i._)("button",{class:"leave-session",onClick:l[2]||(l[2]=l=>e.logout())},(0,s.zw)(e.$localizeFilter("leave_session")),1)]),(0,i._)("div",{class:"scroll-up-btn",onClick:l[3]||(l[3]=l=>e.scrollUp())},k)])}t(7658);var $=t(9849),y=t(7389),C=t(8900),D=t.p+"img/telega.e881fe4a.svg",F=t.p+"img/mailto.7105b911.svg";const S=e=>((0,i.dD)("data-v-22fc830f"),e=e(),(0,i.Cn)(),e),L={class:"list-wrapper"},T={class:"level-header"},x={class:"level-num"},R={class:"count"},Z=["onClick"],q=S((()=>(0,i._)("img",{src:C,alt:"",class:"arrow-right"},null,-1))),A=[q],M={class:"table"},P={class:"row table-header"},U={class:"cell header"},B={class:"cell header"},Y={class:"cell header"},E={class:"cell header"},H={class:"cell header"},I={class:"cell header"},K={class:"cell header"},W={class:"cell content"},j={class:"cell content"},N={class:"cell content"},V={class:"cell content"},O={class:"cell content"},G={class:"cell content"},J={class:"cell content connect"},Q=["onClick"],X=S((()=>(0,i._)("img",{src:D,alt:"",class:"telegram"},null,-1))),ee=[X],le=["onClick"],te=S((()=>(0,i._)("img",{src:F,alt:"",class:"mailto"},null,-1))),ie=[te];function se(e,l,t,r,a,o){return(0,i.wg)(),(0,i.iD)("div",L,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.list,((l,t)=>((0,i.wg)(),(0,i.iD)("div",{class:"level",key:t},[(0,i._)("div",T,[(0,i._)("span",x,(0,s.zw)(e.$localizeFilter("level")+" "+(t+1)),1),(0,i._)("span",R,(0,s.zw)(e.referralsCounts[t].from+" - "+e.referralsCounts[t].to),1),(0,i._)("button",{class:"open-list",onClick:l=>e.openTable(t)},A,8,Z)]),(0,i._)("div",M,[(0,i._)("div",P,[(0,i._)("div",U,(0,s.zw)(e.$localizeFilter("referral_id")),1),(0,i._)("div",B,(0,s.zw)(e.$localizeFilter("name")),1),(0,i._)("div",Y,(0,s.zw)(e.$localizeFilter("referral_invited")),1),(0,i._)("div",E,(0,s.zw)(e.$localizeFilter("invested")),1),(0,i._)("div",H,(0,s.zw)(e.$localizeFilter("profit_from_coin")),1),(0,i._)("div",I,(0,s.zw)(e.$localizeFilter("profit_from_dividends")),1),(0,i._)("div",K,(0,s.zw)(e.$localizeFilter("connect")),1)]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l,((l,t)=>((0,i.wg)(),(0,i.iD)("div",{class:"row table-content",key:t},[(0,i._)("div",W,(0,s.zw)(l.id),1),(0,i._)("div",j,(0,s.zw)(l.name),1),(0,i._)("div",N,(0,s.zw)(l.children.length),1),(0,i._)("div",V,(0,s.zw)(l.invested/1e6+" USDT"),1),(0,i._)("div",O,(0,s.zw)(l.profitFromCoin/1e6+" USDT"),1),(0,i._)("div",G,(0,s.zw)(l.profitFromDividends/1e6+" USDT"),1),(0,i._)("div",J,[(0,i._)("button",{style:(0,s.j5)(l.messengerLink?"":"pointer-events: none; opacity: 0.5;"),onClick:t=>e.$utils.copy(l.messengerLink,e.$localizeFilter("ref_link_messenger_copied")),class:"social"},ee,12,Q),(0,i._)("button",{onClick:t=>e.$utils.copy(l.email,e.$localizeFilter("ref_link_email_copied")),class:"social"},ie,8,le)])])))),128))])])))),128))])}var re=(0,y.aZ)({name:"ReferralProgramDesktop",props:{list:{type:Array,default:()=>[]}},computed:{profile(){return this.$store.getters.profile},referralsCounts(){let e=[],l=0;for(let t of this.list)e.push({from:l+1,to:l+t.length}),l+=t.length;return e}},methods:{referralEmail(){return`mailto: ${this.referral.email}`||""},openTable(e){const l=document.querySelectorAll(".table")[e];l.classList.toggle("open");const t=document.querySelectorAll(".open-list")[e];t.classList.toggle("arrow-up")}}}),ae=t(89);const oe=(0,ae.Z)(re,[["render",se],["__scopeId","data-v-22fc830f"]]);var ne=oe;const ce=e=>((0,i.dD)("data-v-3c5d6724"),e=e(),(0,i.Cn)(),e),_e={class:"list-wrapper"},de={class:"level-header"},ue={class:"level-num"},fe={class:"count"},me=["onClick"],ge=ce((()=>(0,i._)("img",{src:C,alt:"",class:"arrow-right"},null,-1))),ve=[ge],we={class:"table-tablet"},pe={key:0,class:"level-row"},he={class:"level-num"},ze={class:"content-row"},ke={class:"content-row__title title__id"},be={class:"content-row__data"},$e={class:"content-row"},ye={class:"content-row__title"},Ce={class:"content-row__data"},De={class:"content-row"},Fe={class:"content-row__title"},Se={class:"content-row__data"},Le={class:"content-row"},Te={class:"content-row__title"},xe={class:"content-row__data"},Re={class:"content-row"},Ze={class:"content-row__title"},qe={class:"content-row__data"},Ae={class:"content-row"},Me={class:"content-row__title"},Pe={class:"content-row__data"},Ue={class:"content-row"},Be={class:"content-row__title"},Ye={class:"content-row__data connect"},Ee=["onClick"],He=ce((()=>(0,i._)("button",{class:"social"},[(0,i._)("img",{src:D,alt:"",class:"telegram"})],-1))),Ie=[He],Ke=["onClick"],We=ce((()=>(0,i._)("button",{class:"social"},[(0,i._)("img",{src:F,alt:"",class:"mailto"})],-1))),je=[We];function Ne(e,l,t,r,a,o){return(0,i.wg)(),(0,i.iD)("div",_e,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.list,((l,t)=>((0,i.wg)(),(0,i.iD)("div",{class:"level",key:t},[(0,i._)("div",de,[(0,i._)("span",ue,(0,s.zw)(e.$localizeFilter("level")+" "+(t+1)),1),(0,i._)("span",fe,(0,s.zw)(e.referralsCounts[t].from+" - "+e.referralsCounts[t].to),1),(0,i._)("button",{class:"open-list-tablet",onClick:l=>e.openTable(t)},ve,8,me)]),(0,i._)("div",we,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l,((l,r)=>((0,i.wg)(),(0,i.iD)("div",{class:"table-content",key:r},[0!==r?((0,i.wg)(),(0,i.iD)("div",pe,[(0,i._)("span",he,(0,s.zw)(e.$localizeFilter("level")+" "+(t+1)),1)])):(0,i.kq)("",!0),(0,i._)("div",ze,[(0,i._)("div",ke,(0,s.zw)(e.$localizeFilter("referral_id")),1),(0,i._)("div",be,(0,s.zw)(l.id),1)]),(0,i._)("div",$e,[(0,i._)("div",ye,(0,s.zw)(e.$localizeFilter("name")),1),(0,i._)("div",Ce,(0,s.zw)(l.name),1)]),(0,i._)("div",De,[(0,i._)("div",Fe,(0,s.zw)(e.$localizeFilter("referral_invited")),1),(0,i._)("div",Se,(0,s.zw)(l.children.length),1)]),(0,i._)("div",Le,[(0,i._)("div",Te,(0,s.zw)(e.$localizeFilter("invested")),1),(0,i._)("div",xe,(0,s.zw)(l.invested/1e6+" USDT"),1)]),(0,i._)("div",Re,[(0,i._)("div",Ze,(0,s.zw)(e.$localizeFilter("profit_from_coin")),1),(0,i._)("div",qe,(0,s.zw)(l.profitFromCoin/1e6+" USDT"),1)]),(0,i._)("div",Ae,[(0,i._)("div",Me,(0,s.zw)(e.$localizeFilter("profit_from_dividends")),1),(0,i._)("div",Pe,(0,s.zw)(l.profitFromDividends/1e6+" USDT"),1)]),(0,i._)("div",Ue,[(0,i._)("div",Be,(0,s.zw)(e.$localizeFilter("connect")),1),(0,i._)("div",Ye,[(0,i._)("a",{style:(0,s.j5)(l.messengerLink?"":"pointer-events: none; opacity: 0.5;"),onClick:t=>e.$utils.copy(l.messengerLink,e.$localizeFilter("ref_link_messenger_copied")),target:"_blank",class:"social-link"},Ie,12,Ee),(0,i._)("a",{onClick:t=>e.$utils.copy(l.email,e.$localizeFilter("ref_link_email_copied"))},je,8,Ke)])])])))),128))])])))),128))])}var Ve=(0,y.aZ)({name:"ReferralProgramDesktop",props:{list:{type:Array,default:()=>[]}},computed:{profile(){return this.$store.getters.profile},referralsCounts(){let e=[],l=0;for(let t of this.list)e.push({from:l+1,to:l+t.length}),l+=t.length;return e}},methods:{openTable(e){const l=document.querySelectorAll(".table-tablet")[e];l.classList.toggle("open");const t=document.querySelectorAll(".open-list-tablet")[e];t.classList.toggle("arrow-up")}}});const Oe=(0,ae.Z)(Ve,[["render",Ne],["__scopeId","data-v-3c5d6724"]]);var Ge=Oe,Je=t(9242);const Qe={class:"booking-referrals"},Xe={class:"booking-referrals__title"},el={class:"booking-referrals__list"},ll={class:"booking-referrals__item"},tl={class:"booking-referrals__item"},il={class:"booking-referrals__item"},sl={class:"booking-referrals__item"},rl={key:0,class:"booked flex"},al={class:"flex-item"},ol={class:"flex-item__title"},nl={class:"flex-item"},cl={class:"flex-item__title"},_l={class:"flex-item"},dl={class:"flex-item__title"},ul={key:1,class:"not-booked"},fl={class:"input-label"},ml={class:"input-button-wrapper"},gl={class:"input-wrapper"},vl={key:0,class:"error-label-wrapper"};function wl(e,l,t,r,a,o){return(0,i.wg)(),(0,i.iD)("div",Qe,[(0,i._)("div",Xe,(0,s.zw)(e.$localizeFilter("booking_referrals_title")),1),(0,i._)("ul",el,[(0,i._)("li",ll,(0,s.zw)(e.$localizeFilter("booking_referrals_item_text_1")),1),(0,i._)("li",tl,(0,s.zw)(e.$localizeFilter("booking_referrals_item_text_2")),1),(0,i._)("li",il,(0,s.zw)(e.$localizeFilter("booking_referrals_item_text_3")),1),(0,i._)("li",sl,(0,s.zw)(e.$localizeFilter("booking_referrals_item_text_4")),1)]),e.data?((0,i.wg)(),(0,i.iD)("div",rl,[(0,i._)("div",al,[(0,i._)("div",ol,(0,s.zw)(e.$localizeFilter("invited_and_paid_referrals"))+": ",1),(0,i._)("div",{class:(0,s.C_)(["flex-item__count",e.getCountClass()])},(0,s.zw)(e.data.invitedAndPaidReferralsCount+"/"+e.data.referralsCount),3)]),(0,i._)("div",nl,[(0,i._)("div",cl,(0,s.zw)(e.$localizeFilter("referral_income_amount"))+": ",1),(0,i._)("div",{class:(0,s.C_)(["flex-item__count",e.getCountClass()])},(0,s.zw)(e.$utils.formatNumber(e.data.referralAccrualsAmount/1e6,"en-US",0,0)+" USDT"),3)]),(0,i._)("div",_l,[(0,i._)("div",dl,(0,s.zw)(e.$localizeFilter("left"))+": ",1),(0,i._)("div",{class:(0,s.C_)(["flex-item__count",e.getCountClass()])},(0,s.zw)(e.timeLeftString),3)])])):((0,i.wg)(),(0,i.iD)("div",ul,[(0,i._)("label",fl,(0,s.zw)(e.$localizeFilter("booking_referrals_input_title")),1),(0,i._)("div",ml,[(0,i._)("div",gl,[(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":l[0]||(l[0]=l=>e.referralsCount=l),placeholder:"100",class:"input"},null,512),[[Je.nr,e.referralsCount]]),e.v$.referralsCount.$errors.length>0?((0,i.wg)(),(0,i.iD)("div",vl,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.v$.referralsCount.$errors,((e,l)=>((0,i.wg)(),(0,i.iD)("label",{class:"error-label",key:l},(0,s.zw)(e.$message),1)))),128))])):(0,i.kq)("",!0)]),(0,i._)("button",{class:"button",onClick:l[1]||(l[1]=l=>e.confirmBooking())},(0,s.zw)(e.$localizeFilter("confirm_referral_booking")),1)])]))])}var pl=t(3053),hl=t(9117),zl=(0,y.aZ)({name:"BookingReferrals",components:{},data(){return{data:null,referralsCount:null,timeLeft:null,timeLeftString:null,interval:null}},validations(){return{referralsCount:{required:hl.BM.withMessage((0,$.Z)("field_must_not_be_empty"),hl.C1),minValue:hl.BM.withMessage((0,$.Z)("min_value",[20]),(0,hl.uv)(20))}}},watch:{},computed:{},setup(){return{v$:(0,pl.ZP)()}},async mounted(){await this.loadData(),this.data&&(this.timeLeft=Math.max(this.data.bookingEndTimestamp-Date.now(),0),this.timeLeftString=this.getTimeString(this.timeLeft),this.interval=setInterval((()=>{this.timeLeft=Math.max(this.data.bookingEndTimestamp-Date.now(),0),this.timeLeftString=this.getTimeString(this.timeLeft)}),1e3))},unmounted(){this.interval&&(clearInterval(this.interval),this.interval=null)},methods:{getTimeString(e){let l=Math.floor(e/1e3),t=Math.floor(l/3600/24),i=Math.floor(l%86400/3600),s=Math.floor(l%3600/60),r=Math.floor(l%60);return i<10&&(i="0"+i),s<10&&(s="0"+s),r<10&&(r="0"+r),`${t} ${(0,$.Z)("days")} ${i}:${s}:${r}`},async loadData(){try{const e=await this.$store.dispatch("getBookingReferralsData");this.data=e}catch(e){console.log(e)}},async confirmBooking(){if(this.v$.$touch(),!this.v$.$error)try{await this.$store.dispatch("createBookingReferralsRequest",Number(this.referralsCount)),this.$message((0,$.Z)("booking_referrals_success")),await this.loadData()}catch(e){this.$error(e)}},getCountClass(){return this.data.invitedAndPaidReferralsCount>=this.data.referralsCount?"blue":this.timeLeft<=0?"gray":"white"}}});const kl=(0,ae.Z)(zl,[["render",wl]]);var bl=kl,$l=(0,y.aZ)({name:"ReferralProgram",components:{ReferralProgramDesktop:ne,ReferralProgramTablet:Ge,BookingReferrals:bl},data(){return{list:[]}},computed:{profile(){return this.$store.getters.profile},referralsCounts(){let e=[],l=0;for(let t of this.list)e.push({from:l+1,to:l+t.length}),l+=t.length;return e}},created(){window.addEventListener("scroll",this.handleScroll)},unmounted(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(e){window.pageYOffset>100?document.querySelector(".scroll-up-btn").style.display="block":document.querySelector(".scroll-up-btn").style.display="none"},getReferralLink(){return location.origin+`?referralToken=${this.profile?.referralToken}`||""},scrollUp(){window.scrollTo({top:0,behavior:"smooth"})},openTable(e){const l=document.querySelectorAll(".table")[e];l.classList.toggle("open");const t=document.querySelectorAll(".open-list")[e];t.classList.toggle("arrow-up")},async logout(){try{await this.$store.dispatch("logout")}catch(e){console.log(e)}finally{location.href=`${location.origin}/`}},async loadData(){try{const e=await this.$store.dispatch("getStructure");this.list=e.list,console.log(this.list)}catch(e){this.$error(e)}}},async mounted(){try{await this.loadData(),await this.$store.dispatch("getProfile")}catch(e){console.log(e)}}});const yl=(0,ae.Z)($l,[["render",b],["__scopeId","data-v-c2a8433e"]]);var Cl=yl},8900:function(e,l,t){e.exports=t.p+"img/arrow-right.6e080af5.svg"},7650:function(e,l,t){e.exports=t.p+"img/scroll-up.937450a4.svg"}}]);