"use strict";(self["webpackChunkneurostate_cabinet"]=self["webpackChunkneurostate_cabinet"]||[]).push([[544],{7544:function(e,t,n){n.r(t),n.d(t,{default:function(){return P}});var l=n(3396),o=n(7139),i=n(9242),s=n(8900);const c=e=>((0,l.dD)("data-v-485a872e"),e=e(),(0,l.Cn)(),e),a={class:"new-nft-deal"},r={class:"container"},d={class:"title"},p={class:"your-id"},u={for:"",class:"id-recipent-label"},w={class:"deal-wrapper"},h={class:"want"},m={class:"want-title"},_={class:"text"},g={class:"input-wrapper1"},y=c((()=>(0,l._)("img",{class:"dropdown-btn-img",src:s,alt:""},null,-1))),x=[y],D={key:0,class:"dropdown"},b=["onClick"],f={class:"dropdown-img"},F=["src"],I={class:"NFT-info"},k={class:"exchange-hide text",for:""},z={class:"expect"},$={class:"expect-title"},v={class:"text"},C={class:"input-wrapper2"},T=c((()=>(0,l._)("img",{class:"dropdown-btn-img2",src:s,alt:""},null,-1))),N=[T],U={key:0,class:"dropdown"},A=["onClick"],q={class:"dropdown-img"},L=["src"],B={class:"NFT-info"},S=c((()=>(0,l._)("div",{class:"dropdown"},null,-1))),V={class:"expected-hide text",for:""};function E(e,t,n,s,c,y){return(0,l.wg)(),(0,l.iD)("div",a,[(0,l._)("div",r,[(0,l._)("h3",d,(0,o.zw)(e.$localizeFilter("new_deal")),1),(0,l._)("div",p,[(0,l.Uk)((0,o.zw)(e.$localizeFilter("your_id"))+" ",1),(0,l._)("span",null,(0,o.zw)(" "+e.profile?.id||0),1)]),(0,l._)("p",u,(0,o.zw)(e.$localizeFilter("new_deal_recipient_id"))+": ",1),(0,l.wy)((0,l._)("input",{onChange:t[0]||(t[0]=t=>e.sendRequest(e.recipientId)),"onUpdate:modelValue":t[1]||(t[1]=t=>e.recipientId=t),type:"text",class:"input id-recipent"},null,544),[[i.nr,e.recipientId]]),(0,l._)("div",w,[(0,l._)("div",h,[(0,l._)("h4",m,(0,o.zw)(e.$localizeFilter("new_deal_want_label"))+": ",1),(0,l._)("p",_,(0,o.zw)(e.$localizeFilter("item_for_exchange"))+":",1),(0,l._)("div",g,[(0,l._)("button",{class:"dropdown-btn",onClick:t[2]||(t[2]=t=>e.dropdown()),type:"button"},x),(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[3]||(t[3]=t=>e.exchangeNFT=t),readonly:"",class:"input item-swap"},null,512),[[i.nr,e.exchangeNFT]]),e.showDropDown?((0,l.wg)(),(0,l.iD)("ul",D,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.itemsList,((t,n)=>((0,l.wg)(),(0,l.iD)("li",{onClick:n=>e.selectItem(t),class:"dropdown-item",key:n},[(0,l._)("div",f,[(0,l._)("img",{src:t.previewLink,alt:""},null,8,F)]),(0,l._)("div",I,(0,o.zw)(e.$localizeFilter("new_deal_collection_title")+' "'+t.name+'" №'+t.numberInCollection),1)],8,b)))),128))])):(0,l.kq)("",!0)]),(0,l._)("p",k,(0,o.zw)(e.$localizeFilter("new_deal_add_USDT"))+": ",1),e.expectedAmount?(0,l.kq)("",!0):(0,l.wy)(((0,l.wg)(),(0,l.iD)("input",{key:0,"onUpdate:modelValue":t[4]||(t[4]=t=>e.exchangeAmount=t),type:"text",class:"exchange-hide input usdt"},null,512)),[[i.nr,e.exchangeAmount]])]),(0,l._)("div",z,[(0,l._)("h4",$,(0,o.zw)(e.$localizeFilter("new_deal_expect_label"))+": ",1),(0,l._)("p",v,(0,o.zw)(e.$localizeFilter("item_for_exchange"))+" :",1),(0,l._)("div",C,[(0,l._)("button",{class:"dropdown-btn",onClick:t[5]||(t[5]=t=>e.dropdown2()),type:"button"},N),(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[6]||(t[6]=t=>e.expectedNFT=t),readonly:"",class:"input item-swap2"},null,512),[[i.nr,e.expectedNFT]]),e.showDropDown2&&e.recipientId?((0,l.wg)(),(0,l.iD)("ul",U,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.itemsListByUserId,((t,n)=>((0,l.wg)(),(0,l.iD)("li",{onClick:n=>e.selectItem2(t),class:"dropdown-item",key:n},[(0,l._)("div",q,[(0,l._)("img",{src:t.previewLink,alt:""},null,8,L)]),(0,l._)("div",B,(0,o.zw)(e.$localizeFilter("new_deal_collection_title")+' "'+t.name+'" №'+t.numberInCollection),1)],8,A)))),128))])):(0,l.kq)("",!0),S]),(0,l._)("p",V,(0,o.zw)(e.$localizeFilter("new_deal_add_USDT"))+": ",1),e.exchangeAmount?(0,l.kq)("",!0):(0,l.wy)(((0,l.wg)(),(0,l.iD)("input",{key:0,"onUpdate:modelValue":t[7]||(t[7]=t=>e.expectedAmount=t),type:"text",class:"expected-hide input usdt2"},null,512)),[[i.nr,e.expectedAmount]])])]),(0,l._)("button",{onClick:t[8]||(t[8]=t=>e.submitHandler()),type:"button",class:"button"},(0,o.zw)(e.$localizeFilter("new_deal_button")),1)])])}n(7658);var H=n(7389),Z=n(9849),R=(0,H.aZ)({data(){return{recipientId:null,exchangeNFT:null,exchangeAmount:null,expectedNFT:null,expectedAmount:null,itemsList:[],collections:[],showDropDown:!1,showDropDown2:!1,itemsListByUserId:[]}},computed:{profile(){return this.$store.getters.profile},collectionsByUserId(){return this.$store.getters.collectionByUserId}},watch:{recipientId(e,t){this.$nextTick((()=>{t!==e&&(this.itemsListByUserId=[],this.expectedNFT=null)}))}},methods:{async submitHandler(){const e={recipientId:this.recipientId,exchangeNFT:this.exchangeNFT,exchangeAmount:this.exchangeAmount,expectedNFT:this.expectedNFT,expectedAmount:this.expectedAmount};try{await this.$store.dispatch("createNewDealRequest",e)}catch(t){this.$error(t)}},async sendRequest(e){try{await this.$store.dispatch("getCollectionByUserId",{userId:e}),this.collectionsByUserId.forEach((e=>{e.items.forEach((t=>{t.isCollected&&(t.name=e.name,this.itemsListByUserId.push(t))}))}))}catch(t){this.$error(t)}},selectItem(e){this.exchangeNFT=(0,Z.Z)("new_deal_collection_title")+' "'+e.name+'" №'+e.numberInCollection,this.dropdown()},selectItem2(e){this.expectedNFT=(0,Z.Z)("new_deal_collection_title")+' "'+e.name+'" №'+e.numberInCollection,this.dropdown2()},dropdown(){this.showDropDown=!this.showDropDown,this.showDropDown?document.querySelector(".dropdown-btn-img").style.transform="rotate(90deg)":document.querySelector(".dropdown-btn-img").style.transform="rotate(-90deg)"},dropdown2(){this.showDropDown2=!this.showDropDown2,this.showDropDown2?document.querySelector(".dropdown-btn-img2").style.transform="rotate(90deg)":document.querySelector(".dropdown-btn-img2").style.transform="rotate(-90deg)"},async loadData(){try{const e=await this.$store.dispatch("getCollections");this.collections=e.collections,this.collections.forEach((e=>{e.items.forEach((t=>{t.isCollected&&(t.name=e.name,this.itemsList.push(t))}))}))}catch(e){this.$error(e)}}},async mounted(){try{await this.loadData(),await this.$store.dispatch("getProfile")}catch(e){console.log(e)}}}),K=n(89);const Y=(0,K.Z)(R,[["render",E],["__scopeId","data-v-485a872e"]]);var P=Y},8900:function(e,t,n){e.exports=n.p+"img/arrow-right.6e080af5.svg"}}]);