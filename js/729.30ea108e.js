"use strict";(self["webpackChunkneurostate_cabinet"]=self["webpackChunkneurostate_cabinet"]||[]).push([[729],{5552:function(t,e,s){s.r(e),s.d(e,{default:function(){return f}});var o=s(3396),r=s(7139);const a=t=>((0,o.dD)("data-v-492669ce"),t=t(),(0,o.Cn)(),t),i={class:"restore-password"},n={class:"container"},u={class:"form"},l=a((()=>(0,o._)("button",{type:"button",class:"close-btn"},null,-1))),d={class:"form__header"};function c(t,e,s,a,c,m){const _=(0,o.up)("CustomInput");return(0,o.wg)(),(0,o.iD)("div",i,[(0,o._)("div",n,[(0,o._)("form",u,[l,(0,o._)("div",d,(0,r.zw)(t.$localizeFilter("password_restore")),1),(0,o.Wm)(_,{modelValue:t.email,errors:t.v$.email.$errors,title:t.$localizeFilter("restore_password_enter_email"),"onUpdate:modelValue":e[0]||(e[0]=e=>{t.email=e,t.v$.email.$touch()})},null,8,["modelValue","errors","title"]),(0,o._)("button",{type:"button",id:"submitButton",class:"button",onClick:e[1]||(e[1]=(...e)=>t.submitHandler&&t.submitHandler(...e))},(0,r.zw)(t.$localizeFilter("restore_password_button")),1)])])])}s(7658);var m=s(3053),_=s(9117),b=s(7389),h=s(9849),p=s(2848),v=(0,b.aZ)({components:{CustomInput:p.Z},setup(){return{v$:(0,m.ZP)()}},data(){return{email:""}},validations(){return{email:{required:_.BM.withMessage((0,h.Z)("field_must_not_be_empty"),_.C1),email:_.BM.withMessage((0,h.Z)("field_must_be_valid_email_address"),_.Do)}}},methods:{async submitHandler(){if(this.v$.$touch(),this.v$.$error)return void setTimeout((()=>{this.buttonKey+=1}),1e3);const t=document.getElementById("submitButton");t.classList.add("button--loading");try{await this.$store.dispatch("requestRestorePassword",{email:this.email}),setTimeout((()=>{t.classList.remove("button--loading"),this.$router.push("/restorePasswordLinkSent")}),1e3)}catch(e){setTimeout((()=>{this.$error(e),t.classList.remove("button--loading"),this.buttonKey+=1}),1e3)}}},computed:{}}),$=s(89);const w=(0,$.Z)(v,[["render",c],["__scopeId","data-v-492669ce"]]);var f=w}}]);